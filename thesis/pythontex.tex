%spell-checker: disable
%  PythonTeX Configuration

\usepackage{pythontex}
\usepackage{pgf}
\usepackage{import}
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
% PythonTeX Bug Fix % % % % % % % % % % % % % % % % % % % % % % % %
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % 
% pytexbug fix for context in customcode.
\makeatletter
\renewenvironment{pythontexcustomcode}[2][begin]{%
	\VerbatimEnvironment
	\Depythontex{env:pythontexcustomcode:om:n}%
	\ifstrequal{#1}{begin}{}{%
		\ifstrequal{#1}{end}{}{\PackageError{\pytx@packagename}%
			{Invalid optional argument for pythontexcustomcode}{}
		}%
	}%
	\xdef\pytx@type{CC:#2:#1}%
	\edef\pytx@cmd{code}%
	% PATCH \def\pytx@context{}%
	\pytx@SetContext
	% END PATCH
	\def\pytx@group{none}%
	\pytx@BeginCodeEnv[none]}%
{\end{VerbatimOut}%
\setcounter{FancyVerbLine}{\value{pytx@FancyVerbLineTemp}}%
\stepcounter{\pytx@counter}%
}%
\makeatother
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % %
\setpythontexcontext{figurewidth=\the\columnwidth}

%% Setup PythonTeX and TeXFigure
\begin{pythontexcustomcode}{py}
import os

import texfigure
pytex.formatter = texfigure.repr_latex_formatter
texfigure.configure_latex_plots(pytex, font_size=12)

import numpy as np
import matplotlib
#matplotlib.use('pdf')
import matplotlib.pyplot as plt
import matplotlib.colors
import seaborn
from sunpy.map import Map, GenericMap
import astropy.units as u
from astropy.coordinates import SkyCoord
from astropy.visualization import ImageNormalize,AsinhStretch,SqrtStretch
import fiasco
import synthesizAR

# Directory names for all chapters
manager_opts = {'python_dir': 'python', 'fig_dir': 'figures', 'data_dir': 'data',}

# Define color palette(s)
PALETTE = seaborn.color_palette('colorblind', 100)

# Set some plot styling here
plt.rcParams['text.latex.preamble'] = r'\usepackage{fourier}'
plt.rcParams['font.family'] = 'serif'
plt.rcParams['font.serif'] = 'Utopia'
plt.rcParams['text.usetex'] = True
#plt.rcParams['axes.titlesize'] = 12
#plt.rcParams['axes.labelsize'] = 12
#plt.rcParams['legend.fontsize'] = 10
#plt.rcParams['xtick.labelsize'] = 10
#plt.rcParams['ytick.labelsize'] = 10
plt.rcParams['xtick.major.pad'] = 3
plt.rcParams['xtick.minor.pad'] = 3
plt.rcParams['ytick.major.pad'] = 3
plt.rcParams['ytick.minor.pad'] = 3
plt.rcParams['xtick.direction'] = 'in'
plt.rcParams['ytick.direction'] = 'in'
plt.rcParams['savefig.dpi'] = 200
plt.rcParams['savefig.format'] = 'pdf'
plt.rcParams['savefig.bbox'] = 'tight'

\end{pythontexcustomcode}
